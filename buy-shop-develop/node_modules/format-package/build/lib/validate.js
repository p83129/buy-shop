"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const object_1 = require("../utils/object");
// Safety check
//   - every key from previous package.json is in the next package.json
//   - every key in the next package.json is in the previous package.json
function validate(prevPkg, nextPkg) {
    const prevAccountedFor = Object.keys(prevPkg).every((k) => object_1.has(nextPkg, k));
    const nextAccountedFor = Object.keys(nextPkg).every((k) => object_1.has(prevPkg, k));
    if (prevAccountedFor && nextAccountedFor)
        return;
    throw new Error('Something went wrong and some keys were lost - this job was cancelled and nothing written.');
}
exports.default = validate;
//# sourceMappingURL=validate.js.map